<template>
  <div id="app">
    <!-- router-view-start -->
    <keep-alive>
      <router-view />
    </keep-alive>
    <!-- router-view-end -->
    <!-- sideBar-start -->
    <van-tabbar route @change="changeSideBar">
      <van-tabbar-item replace to="/trend">
        <span>è¶‹åŠ¿</span>
        <van-icon
          slot="icon"
          slot-scope="props"
          :name="props.active ? icon.trend.active : icon.trend.inactive"
        />
      </van-tabbar-item>
      <van-tabbar-item replace to="/news">
        <span>åŠ¨æ€</span>
        <van-icon
          slot="icon"
          slot-scope="props"
          :name="props.active ? icon.news.active : icon.news.inactive"
        />
      </van-tabbar-item>
      <van-tabbar-item replace to="/message" icon="search">
        <span>ä¿¡æ¯</span>
        <van-icon
          slot="icon"
          slot-scope="props"
          :name="props.active ? icon.msg.active : icon.msg.inactive"
        />
      </van-tabbar-item>
    </van-tabbar>
    <!-- sideBar-end -->
  </div>
</template>

<script>
// import { Notify } from "vant";
export default {
  name: "app",
  components: {},
  data() {
    return {
      icon: {
        trend: {
          active: "fire",
          inactive: "fire-o"
        },
        news: {
          active: "location",
          inactive: "location-o"
        },
        msg: {
          active: "label",
          inactive: "label-o"
        }
      }
    };
  },

  mounted() {
    const notify = this.$vantTools.notify;
    notify("ä»…ä¾›å­¦ä¹ äº¤æµä¹‹ç”¨ï¼Œç¥å¥½ï¼", "success");
    setTimeout(() => {
      notify("æœ¬äººç²¾åŠ›æœ‰é™", "warning");
    }, 1500);
    setTimeout(() => {
      notify("æœ€åä¸€å¼ è¡¨é€šè¿‡é•¿æŒ‰æŸ¥çœ‹å…·ä½“æ•°æ®", "warning", 2000);
    }, 2000);
    setTimeout(() => {
      notify("å‡ºé—¨ä¸€å®šæˆ´å£ç½© ğŸ™ƒ", "success");
    }, 6000);
    this.$router.push("/trend");
  },

  methods: {
    // åˆ‡æ¢ sidebar
    changeSideBar(active) {
      const notify = this.$vantTools.notify;
      this.$vantTools.clearNotify();
      const actions = {
        1: () => {
          notify("ç‚¹å‡»å³ä¸Šè§’åˆ‡æ¢çœä»½", "primary");
        },
        2: () => {
          // notify("ä¿¡æ¯", "primary");
        },
        5: () => {
          notify("é”™è¯¯", "danger");
        }
      };
      actions[active]();
    }
  }
};
</script>

<style>
#app {
  width: 100vw;
  margin: 46px 0 50px;
}

.van-picker {
  position: fixed;
  bottom: 50px;
  width: 100vw;
  z-index: 10;
}

/* .van-nav-bar {
  background-color: #F9F0FF;
}

.van-nav-bar__title {
  color: #fff;
} */
</style>
